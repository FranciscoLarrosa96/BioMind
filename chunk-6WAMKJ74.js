import{a as ee}from"./chunk-FHWCX3UK.js";import{A as n,B as h,F as k,H as M,J as u,K as U,L as N,M as o,N as m,O as E,P as Y,R as w,S as P,T as Q,U as Z,Y as X,_ as K,a as $,b as q,e as B,f as H,g as W,h as O,i as V,j as D,k as _,l as C,n as A,o as s,q as z,r as L,t as p,u as f,v as J,w as T,x as R,y as F,z as t}from"./chunk-RKJVEJBY.js";var le={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Ct=q($({},le),{"[class.ng-submitted]":"isSubmitted"});var de=new W("",{providedIn:"root",factory:()=>ne}),ne="always";var ce=(()=>{class r{static \u0275fac=function(a){return new(a||r)};static \u0275mod=L({type:r});static \u0275inj=H({})}return r})();var ie=(()=>{class r{static withConfig(e){return{ngModule:r,providers:[{provide:de,useValue:e.callSetDisabledState??ne}]}}static \u0275fac=function(a){return new(a||r)};static \u0275mod=L({type:r});static \u0275inj=H({imports:[ce]})}return r})();var j=class r{showMessage(i,e="info"){console.log(`${e}: ${i}`)}formatDate(i){if(!i)return"";try{return new Date(i).toLocaleDateString("es-AR")}catch{return i}}isValidPDF(i){return i.type==="application/pdf"&&i.size>0}static \u0275fac=function(e){return new(e||r)};static \u0275prov=B({token:r,factory:r.\u0275fac,providedIn:"root"})};var re={production:!1,apiBase:"https://gemini-proxy-ewww.onrender.com"};var ae=(r,i)=>i.test_name;function ue(r,i){if(r&1){let e=k();t(0,"div",18),M("dragover",function(l){V(e);let c=u();return D(c.onDragOver(l))})("dragleave",function(l){V(e);let c=u();return D(c.onDragLeave(l))})("drop",function(l){V(e);let c=u();return D(c.onDrop(l))}),t(1,"div",19)(2,"div",20),_(),t(3,"svg",21),h(4,"path",22),n()(),C(),t(5,"h3",23),o(6," Arrastra tu an\xE1lisis m\xE9dico aqu\xED "),n(),t(7,"p",24),o(8," O haz clic para seleccionar un archivo PDF "),n(),t(9,"label",25),_(),t(10,"svg",26),h(11,"path",27),n(),o(12," Seleccionar archivo "),C(),t(13,"input",28),M("change",function(l){V(e);let c=u();return D(c.onPick(l))}),n()(),t(14,"p",29),o(15," Solo archivos PDF (m\xE1x. 10MB) "),n()()()}if(r&2){let e=u();N(e.isDragOver()?"border-primary-400 bg-primary-50 dark:bg-primary-900/20":"border-gray-300 dark:border-gray-600 hover:border-primary-300 dark:hover:border-primary-500")}}function me(r,i){r&1&&(h(0,"div",42),o(1," Analizando... "))}function he(r,i){r&1&&(_(),t(0,"svg",43),h(1,"path",44),n(),o(2," Analizar con IA "))}function pe(r,i){if(r&1){let e=k();t(0,"div",30)(1,"div",31)(2,"div",32)(3,"div",33),_(),t(4,"svg",34),h(5,"path",10),n()(),C(),t(6,"div")(7,"h4",35),o(8),n(),t(9,"p",36),o(10),n()()(),t(11,"button",37),M("click",function(){V(e);let l=u();return D(l.limpiar())}),_(),t(12,"svg",4),h(13,"path",38),n()()()(),C(),t(14,"div",39)(15,"p",40),o(16),n(),t(17,"button",41),M("click",function(){V(e);let l=u();return D(l.analyzeWithAI())}),p(18,me,2,0)(19,he,3,0),n()()}if(r&2){let e,a,l=u();s(8),m((e=l.file())==null?null:e.name),s(2),E(" ",(((a=l.file())==null?null:a.size)/1024/1024).toFixed(2)," MB "),s(5),F("ngClass",l.statusColor()),s(),E(" ",l.statusMessage()," "),s(),F("disabled",!l.canAnalyze()),s(),f(l.isProcessing()?18:19)}}function fe(r,i){r&1&&(_(),t(0,"svg",47),h(1,"path",51),n())}function ge(r,i){r&1&&(_(),t(0,"svg",34),h(1,"path",52),n())}function _e(r,i){if(r&1&&(t(0,"div",16)(1,"div",45)(2,"div",46),p(3,fe,2,0,":svg:svg",47)(4,ge,2,0,":svg:svg",34),n(),t(5,"div",48)(6,"h3",49),o(7),n(),t(8,"p",50),o(9),n()()()()),r&2){let e,a,l,c,x,d=u();F("ngClass",(e=d.error())!=null&&e.includes("\u26A0\uFE0F")?"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-500 dark:border-yellow-700":"bg-red-50 dark:bg-red-900/20 border-red-500 dark:border-red-800"),s(3),f((a=d.error())!=null&&a.includes("\u26A0\uFE0F")?3:4),s(3),F("ngClass",(l=d.error())!=null&&l.includes("\u26A0\uFE0F")?"text-yellow-800 dark:text-yellow-200":"text-red-800 dark:text-red-200"),s(),E(" ",(c=d.error())!=null&&c.includes("\u26A0\uFE0F")?"Informaci\xF3n Importante":"Error en el Procesamiento"," "),s(),F("ngClass",(x=d.error())!=null&&x.includes("\u26A0\uFE0F")?"text-yellow-700 dark:text-yellow-300":"text-red-700 dark:text-red-300"),s(),E(" ",d.error()," ")}}function ve(r,i){if(r&1&&(t(0,"div",53)(1,"div",78)(2,"div",79),o(3),n(),t(4,"div",80),o(5,"Total"),n()(),t(6,"div",81)(7,"div",79),o(8),n(),t(9,"div",80),o(10,"Normales"),n()(),t(11,"div",82)(12,"div",79),o(13),n(),t(14,"div",80),o(15,"Altos"),n()(),t(16,"div",83)(17,"div",79),o(18),n(),t(19,"div",80),o(20,"Bajos"),n()(),t(21,"div",84)(22,"div",79),o(23),n(),t(24,"div",80),o(25,"Cr\xEDticos"),n()()()),r&2){let e,a,l,c,x,d=u(2);s(3),m((e=d.stats())==null?null:e.total),s(5),m((a=d.stats())==null?null:a.normal),s(5),m((l=d.stats())==null?null:l.high),s(5),m((c=d.stats())==null?null:c.low),s(5),m((x=d.stats())==null?null:x.critical)}}function ye(r,i){r&1&&(t(0,"div",55)(1,"div",45),_(),t(2,"svg",85),h(3,"path",51),n(),C(),t(4,"div")(5,"h4",74),o(6," Formato de Laboratorio No Est\xE1ndar "),n(),t(7,"p",86),o(8," No se pudieron extraer valores individuales autom\xE1ticamente de este PDF. Esto no significa que haya un error, sino que el formato espec\xEDfico de este laboratorio es diferente. "),n(),t(9,"p",87),o(10," \u{1F4A1} "),t(11,"strong"),o(12,"Recomendaci\xF3n:"),n(),o(13," Revise el PDF original manualmente o solicite al laboratorio un formato digital actualizado. "),n()()()())}function be(r,i){if(r&1&&(t(0,"div",54)(1,"h3",88),o(2,"Resumen de Resultados"),n(),t(3,"div",89)(4,"div",90)(5,"div",91),o(6),n(),t(7,"div",36),o(8,"Total"),n()(),t(9,"div",92)(10,"div",93),o(11),n(),t(12,"div",94),o(13,"Normales"),n()(),t(14,"div",95)(15,"div",96),o(16),n(),t(17,"div",97),o(18,"Altos"),n()(),t(19,"div",98)(20,"div",99),o(21),n(),t(22,"div",100),o(23,"Bajos"),n()(),t(24,"div",101)(25,"div",102),o(26),n(),t(27,"div",103),o(28,"Cr\xEDticos"),n()()()()),r&2){let e,a,l,c,x,d=u(2);s(6),m((e=d.stats())==null?null:e.total),s(5),m((a=d.stats())==null?null:a.normal),s(5),m((l=d.stats())==null?null:l.high),s(5),m((c=d.stats())==null?null:c.low),s(5),m((x=d.stats())==null?null:x.critical)}}function xe(r,i){if(r&1){let e=k();t(0,"button",104),M("click",function(){V(e);let l=u(2);return D(l.showOnlyAbnormal.set(!l.showOnlyAbnormal()))}),_(),t(1,"svg",26),h(2,"path",105),n(),o(3),C(),t(4,"span",106),o(5),n()()}if(r&2){let e,a=u(2);F("ngClass",a.showOnlyAbnormal()?"bg-orange-600 hover:bg-orange-700 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-700 dark:bg-gray-700 dark:hover:bg-gray-600 dark:text-gray-200"),s(3),E(" ",a.filterButtonText()," "),s(2),E(" ",a.showOnlyAbnormal()?a.abnormalResults().length:(e=a.analysisResult())==null||e.results==null?null:e.results.length," ")}}function Ce(r,i){if(r&1&&(t(0,"span",36),o(1),n()),r&2){let e=u().$implicit;s(),m(e.unit)}}function Ee(r,i){if(r&1&&(t(0,"div",116)(1,"span",6),o(2,"Rango normal:"),n(),o(3),n()),r&2){let e=u(2).$implicit;s(3),E(" ",e.reference_range," ")}}function we(r,i){r&1&&o(0," \u26A0\uFE0F Valor cr\xEDtico. Requiere atenci\xF3n m\xE9dica inmediata. ")}function Ve(r,i){r&1&&o(0," \u26A0\uFE0F Valor elevado. Consulte con su m\xE9dico para evaluaci\xF3n. ")}function De(r,i){r&1&&o(0," \u26A0\uFE0F Valor bajo. Consulte con su m\xE9dico si tiene s\xEDntomas. ")}function Ae(r,i){if(r&1&&(t(0,"div",124)(1,"p",125),p(2,we,1,0)(3,Ve,1,0)(4,De,1,0),n()()),r&2){let e=u(2).$implicit;s(2),f(e.status==="critical"?2:e.status==="high"?3:4)}}function Me(r,i){if(r&1&&(t(0,"div",115),p(1,Ee,4,1,"div",116),t(2,"div",117)(3,"h5",118),o(4,"\xBFQu\xE9 es esto?"),n(),t(5,"p",119),o(6),n()(),t(7,"div",120)(8,"h5",121),_(),t(9,"svg",122),h(10,"path",123),n(),o(11," Interpretaci\xF3n "),n(),C(),t(12,"p",119),o(13),n()(),p(14,Ae,5,1,"div",124),n()),r&2){let e=u().$implicit;s(),f(e.reference_range?1:-1),s(5),E(" ",e.simplified_explanation||"An\xE1lisis m\xE9dico de laboratorio"," "),s(7),m(e.clinical_interpretation),s(),f(e.status!=="normal"?14:-1)}}function Se(r,i){if(r&1){let e=k();t(0,"div",107)(1,"button",108),M("click",function(){let l=V(e).$implicit,c=u(3);return D(c.toggleItem(l.test_name))}),t(2,"div",109),h(3,"div"),t(4,"span",110),o(5),n(),t(6,"div",111)(7,"span",112),o(8),n(),p(9,Ce,2,1,"span",36),n(),t(10,"span"),o(11),n()(),_(),t(12,"svg",113),h(13,"path",114),n()(),p(14,Me,15,4,"div",115),n()}if(r&2){let e=i.$implicit,a=u(3);s(3),N("flex-shrink-0 w-3 h-3 rounded-full "+(e.status==="normal"?"bg-green-500":e.status==="critical"?"bg-red-600":e.status==="high"?"bg-orange-500":"bg-blue-500")),s(2),m(e.test_name),s(3),m(e.value||"N/A"),s(),f(e.unit?9:-1),s(),N("flex-shrink-0 px-2 py-1 rounded-full text-xs font-medium "+(e.status==="normal"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":e.status==="critical"?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400":e.status==="high"?"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400":"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400")),s(),Y(" ",a.getStatusIcon(e.status)," ",a.getStatusText(e.status)," "),s(),U("rotate-180",a.isExpanded(e.test_name)),s(2),f(a.isExpanded(e.test_name)?14:-1)}}function Fe(r,i){if(r&1&&(t(0,"div",69),T(1,Se,15,12,"div",107,ae),n()),r&2){let e=u(2);s(),R(e.visibleResults())}}function ke(r,i){if(r&1&&(t(0,"span",130),o(1),n()),r&2){let e=u().$implicit;s(),m(e.unit)}}function Ie(r,i){if(r&1&&(t(0,"div",131)(1,"span",6),o(2,"Rango normal:"),n(),o(3),n()),r&2){let e=u().$implicit;s(3),E(" ",e.reference_range," ")}}function Ne(r,i){r&1&&(t(0,"p",141),o(1,"Este valor est\xE1 elevado. Consulte con su m\xE9dico para evaluaci\xF3n."),n())}function Oe(r,i){r&1&&(t(0,"p",141),o(1,"\u26A0\uFE0F Valor cr\xEDtico. Requiere atenci\xF3n m\xE9dica inmediata."),n())}function Te(r,i){r&1&&(t(0,"p",141),o(1,"Este valor est\xE1 bajo. Consulte con su m\xE9dico si tiene s\xEDntomas."),n())}function Re(r,i){if(r&1&&(t(0,"div",136)(1,"h5",138),_(),t(2,"svg",139),h(3,"path",140),n(),o(4," \u26A0\uFE0F Advertencia "),n(),p(5,Ne,2,0,"p",141)(6,Oe,2,0,"p",141)(7,Te,2,0,"p",141),n()),r&2){let e=u().$implicit;s(5),f(e.status==="high"?5:e.status==="critical"?6:7)}}function Pe(r,i){if(r&1&&(t(0,"div",137)(1,"h5",142),_(),t(2,"svg",143),h(3,"path",123),n(),o(4," \xBFQu\xE9 indican los valores altos y bajos? "),n(),C(),t(5,"p",144),o(6),n()()),r&2){let e=u().$implicit;s(6),m(e.clinical_interpretation)}}function je(r,i){if(r&1&&(t(0,"div",126)(1,"div",127)(2,"div",128)(3,"h4",23),o(4),n(),t(5,"div",129)(6,"span",91),o(7),n(),p(8,ke,2,1,"span",130),n(),p(9,Ie,4,1,"div",131),n(),t(10,"div")(11,"span",132),o(12),n(),o(13),n()(),t(14,"div",133)(15,"h5",134),o(16,"\xBFQu\xE9 significa?"),n(),t(17,"p",135),o(18),n()(),p(19,Re,8,1,"div",136),p(20,Pe,7,1,"div",137),n()),r&2){let e=i.$implicit,a=u(3);s(4),m(e.test_name),s(3),m(e.value||"N/A"),s(),f(e.unit?8:-1),s(),f(e.reference_range?9:-1),s(),N("px-3 py-1 rounded-full text-sm font-medium border "+a.getStatusColor(e.status)),s(2),m(a.getStatusIcon(e.status)),s(),E(" ",a.getStatusText(e.status)," "),s(5),E(" ",e.simplified_explanation||"An\xE1lisis m\xE9dico de laboratorio"," "),s(),f(e.status==="high"||e.status==="critical"||e.status==="low"?19:-1),s(),f(a.showDetailedView()?20:-1)}}function Ge(r,i){if(r&1&&(t(0,"div",70),T(1,je,21,11,"div",126,ae),n()),r&2){let e=u(2);s(),R(e.visibleResults())}}function Be(r,i){if(r&1&&(t(0,"div",45),h(1,"div",148),t(2,"p",135),o(3),n()()),r&2){let e=i.$implicit;s(3),m(e)}}function He(r,i){if(r&1&&(t(0,"div",54)(1,"h3",145),_(),t(2,"svg",146),h(3,"path",73),n(),o(4," Recomendaciones Generales "),n(),C(),t(5,"div",147),T(6,Be,4,1,"div",45,J),n()()),r&2){let e,a=u(2);s(6),R((e=a.analysisResult())==null?null:e.recommendations)}}function Le(r,i){if(r&1){let e=k();t(0,"div",17),p(1,ve,26,5,"div",53),t(2,"div",54),p(3,ye,14,0,"div",55),t(4,"h2",56),_(),t(5,"svg",57),h(6,"path",58),n(),o(7," Informaci\xF3n del An\xE1lisis "),n(),C(),t(8,"div",59)(9,"div",60)(10,"p",36),o(11,"Paciente"),n(),t(12,"p",61),o(13),n()(),t(14,"div",60)(15,"p",36),o(16,"Fecha"),n(),t(17,"p",61),o(18),n()(),t(19,"div",60)(20,"p",36),o(21,"Laboratorio"),n(),t(22,"p",61),o(23),n()(),t(24,"div",60)(25,"p",36),o(26,"Total Estudios"),n(),t(27,"p",61),o(28),n()()()(),p(29,be,29,5,"div",54),t(30,"div",54)(31,"h3",62),o(32,"Resumen General"),n(),t(33,"div",63)(34,"p",64),o(35),n()()(),t(36,"div",65)(37,"button",66),M("click",function(){V(e);let l=u();return D(l.compactView.set(!l.compactView()))}),_(),t(38,"svg",26),h(39,"path",67),n(),o(40),n(),p(41,xe,6,3,"button",68),n(),p(42,Fe,3,0,"div",69),p(43,Ge,3,0,"div",70),p(44,He,8,0,"div",54),C(),t(45,"div",71)(46,"div",45),_(),t(47,"svg",72),h(48,"path",73),n(),C(),t(49,"div")(50,"h4",74),o(51,"Aviso M\xE9dico Importante"),n(),t(52,"p",75),o(53," Esta herramienta proporciona informaci\xF3n educativa \xFAnicamente. "),t(54,"strong"),o(55,"No reemplaza la consulta m\xE9dica profesional."),n(),o(56," Siempre consulte a su m\xE9dico para la interpretaci\xF3n correcta de sus an\xE1lisis y decisiones sobre su salud. "),n()()()(),t(57,"div",39)(58,"button",76),M("click",function(){V(e);let l=u();return D(l.limpiar())}),_(),t(59,"svg",26),h(60,"path",77),n(),o(61," Analizar otro archivo "),n()()()}if(r&2){let e,a,l,c,x,d,v=u();s(),f(v.stats()?1:-1),s(2),f(v.analysisResult()&&v.analysisResult().results.length===0?3:-1),s(10),m(((e=v.analysisResult())==null?null:e.patient_name)||"No especificado"),s(5),m(v.utilService.formatDate(((a=v.analysisResult())==null?null:a.test_date)||"")||"No especificada"),s(5),m(((l=v.analysisResult())==null?null:l.laboratory)||"No especificado"),s(5),m(((c=v.analysisResult())==null||c.results==null?null:c.results.length)||0),s(),f(v.stats()?29:-1),s(6),m((x=v.analysisResult())==null?null:x.summary),s(5),E(" ",v.compactView()?"Vista Detallada":"Vista Compacta"," "),s(),f(v.abnormalResults().length>0?41:-1),s(),f(v.compactView()?42:-1),s(),f(v.compactView()?-1:43),s(),f((d=v.analysisResult())!=null&&d.recommendations&&v.analysisResult().recommendations.length>0?44:-1)}}var oe=class r{utilService=O(j);themeService=O(K);file=A(null);error=A(null);isProcessing=A(!1);analysisResult=A(null);isDragOver=A(!1);showDetailedView=A(!1);showOnlyAbnormal=A(!1);expandedItems=A(new Set);compactView=A(!0);constructor(){P(()=>{this.file()&&(this.error.set(null),this.analysisResult.set(null))}),P(()=>{this.analysisResult()&&setTimeout(()=>{let e=document.getElementById("results-section");e&&e.scrollIntoView({behavior:"smooth",block:"start"})},100)}),P(()=>{let i=this.stats();i&&i.total>0&&console.log("\u{1F4CA} Estad\xEDsticas actualizadas:",i)})}stats=w(()=>{let i=this.analysisResult();if(!i)return null;let e=i.results.length,a=i.results.filter(d=>d.status==="normal").length,l=i.results.filter(d=>d.status==="high").length,c=i.results.filter(d=>d.status==="low").length,x=i.results.filter(d=>d.status==="critical").length;return{total:e,normal:a,high:l,low:c,critical:x}});hasFile=w(()=>this.file()!==null);hasResults=w(()=>this.analysisResult()!==null);canAnalyze=w(()=>this.hasFile()&&!this.isProcessing());normalResults=w(()=>this.analysisResult()?.results.filter(i=>i.status==="normal")||[]);abnormalResults=w(()=>this.analysisResult()?.results.filter(i=>i.status!=="normal")||[]);criticalResults=w(()=>this.analysisResult()?.results.filter(i=>i.status==="critical")||[]);statusMessage=w(()=>this.isProcessing()?"Analizando documento...":this.error()?this.error():this.hasResults()?"\xA1An\xE1lisis completado!":this.hasFile()?"Archivo listo para analizar":"Sube un PDF de an\xE1lisis m\xE9dico");statusColor=w(()=>this.error()?"text-red-600 dark:text-red-400":this.hasResults()?"text-green-600 dark:text-green-400":this.hasFile()?"text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400");visibleResults=w(()=>{let i=this.analysisResult()?.results||[];return this.showOnlyAbnormal()?i.filter(e=>e.status!=="normal"):i});filterButtonText=w(()=>this.showOnlyAbnormal()?"Mostrar todos":"Solo anormales");onPick(i){let a=i.target.files?.[0]||null;this.handleFile(a)}onDragOver(i){i.preventDefault(),i.stopPropagation(),this.isDragOver.set(!0)}onDragLeave(i){i.preventDefault(),i.stopPropagation(),this.isDragOver.set(!1)}onDrop(i){i.preventDefault(),i.stopPropagation(),this.isDragOver.set(!1);let e=i.dataTransfer?.files;if(e&&e.length>0){let a=e[0];this.handleFile(a)}}handleFile(i){if(i){if(i.type!=="application/pdf"){this.error.set("El archivo debe ser un PDF de an\xE1lisis m\xE9dico.");return}this.file.set(i)}}limpiar(){this.file.set(null),this.analysisResult.set(null),this.error.set(null),this.showDetailedView.set(!1),this.expandedItems.set(new Set),this.compactView.set(!0)}toggleItem(i){let e=this.expandedItems(),a=new Set(e);a.has(i)?a.delete(i):a.add(i),this.expandedItems.set(a)}isExpanded(i){return this.expandedItems().has(i)}async fileToBase64(i){return(await new Promise((a,l)=>{let c=new FileReader;c.onload=()=>a(String(c.result)),c.onerror=l,c.readAsDataURL(i)})).split(",")[1]||""}extractPatternFromText(i,e){let a=i.match(e);return a?a[1].trim():null}async analyzeWithAI(){let i=this.file();if(!i){this.error.set("Seleccion\xE1 un PDF de an\xE1lisis primero");return}this.isProcessing.set(!0),this.error.set(null);try{let e=await this.fileToBase64(i),l={contents:[{parts:[{inline_data:{mime_type:i.type||"application/pdf",data:e}},{text:`Analiza este PDF de an\xE1lisis m\xE9dico y extrae informaci\xF3n ESTRUCTURADA.

\u26A0\uFE0F CR\xCDTICO: Responde SIEMPRE con JSON v\xE1lido en espa\xF1ol, incluso si el formato es desconocido.

IMPORTANTE: Si NO puedes extraer valores espec\xEDficos, devuelve un JSON con results vac\xEDo pero con informaci\xF3n del documento.

ESTRUCTURA JSON OBLIGATORIA (copia esto y completa):
{
  "patient_name": "nombre del paciente o null",
  "test_date": "fecha en formato DD/MM/YYYY o null",
  "laboratory": "nombre del laboratorio o null",
  "results": [
    {
      "test_name": "Nombre del an\xE1lisis",
      "value": "valor encontrado o null",
      "unit": "unidad o null",
      "reference_range": "rango normal o null",
      "status": "normal",
      "simplified_explanation": "Explicaci\xF3n simple del an\xE1lisis",
      "clinical_interpretation": "Un valor BAJO puede indicar X. Un valor ALTO puede indicar Y.",
      "warning": null
    }
  ],
  "summary": "Resumen del documento en espa\xF1ol",
  "recommendations": ["Lista de recomendaciones en espa\xF1ol"]
}

REGLAS ESTRICTAS:
1. SIEMPRE devuelve JSON v\xE1lido, NUNCA texto plano
2. Si no encuentras valores: results = []
3. Si no sabes un campo: usa null
4. TODOS los textos en espa\xF1ol
5. NO uses comillas dobles dentro de las strings
6. status solo puede ser: "normal", "high", "low", "critical"

TIPOS DE AN\xC1LISIS A BUSCAR:
- Hemograma: Gl\xF3bulos rojos, blancos, plaquetas, hemoglobina, hematocrito
- Qu\xEDmica: Glucosa, colesterol, triglic\xE9ridos, creatinina, urea
- Tiroides: TSH, T3, T4
- H\xEDgado: Transaminasas (ALT, AST), bilirrubina
- Coagulaci\xF3n: TP, KPTT, INR
- Orina: Prote\xEDnas, glucosa, sangre, leucocitos
- Y cualquier otro an\xE1lisis m\xE9dico

SI EL FORMATO ES DESCONOCIDO:
- results: []
- summary: "Documento de an\xE1lisis m\xE9dico detectado. Formato no est\xE1ndar impide extracci\xF3n autom\xE1tica."
- recommendations: ["Verifique el PDF manualmente", "Consulte con su m\xE9dico"]

RESPONDE \xDANICAMENTE CON EL JSON, sin explicaciones adicionales.`}]}],generationConfig:{responseMimeType:"application/json",responseSchema:{type:"OBJECT",required:["patient_name","results","summary"],properties:{patient_name:{type:"STRING",description:"Nombre del paciente"},test_date:{type:"STRING",description:"Fecha del an\xE1lisis"},laboratory:{type:"STRING",description:"Nombre del laboratorio"},results:{type:"ARRAY",items:{type:"OBJECT",required:["test_name","status","simplified_explanation","clinical_interpretation"],properties:{test_name:{type:"STRING",description:"Nombre completo del an\xE1lisis"},value:{type:"STRING",description:"Valor obtenido, null si no disponible"},unit:{type:"STRING",description:"Unidad de medida, null si no disponible"},reference_range:{type:"STRING",description:"Rango de referencia, null si no disponible"},status:{type:"STRING",enum:["normal","high","low","critical"],description:"Estado del valor"},simplified_explanation:{type:"STRING",description:"Explicaci\xF3n simple de qu\xE9 es este an\xE1lisis"},clinical_interpretation:{type:"STRING",description:"Qu\xE9 indican valores altos y bajos"},warning:{type:"STRING",description:"Advertencia espec\xEDfica para valores anormales, null si normal"}}}},summary:{type:"STRING",description:"Resumen general del an\xE1lisis"},recommendations:{type:"ARRAY",items:{type:"STRING"},description:"Recomendaciones generales"}}},maxOutputTokens:1e4}},c=new AbortController,x=setTimeout(()=>c.abort(),6e4),d=await fetch(`${re.apiBase}/ai/generate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"gemini-2.5-flash-lite",payload:l}),signal:c.signal});if(clearTimeout(x),!d.ok){let y=await d.text().catch(()=>"");throw new Error(y||`Error HTTP ${d.status}`)}let v=await d.json();console.log("\u{1F50D} Respuesta completa de la API:",v);let G=v?.candidates?.[0]?.content?.parts?.[0]?.text||"{}";console.log("\u{1F4C4} Texto extra\xEDdo de la respuesta:",G),console.log("\u{1F4CF} Longitud del texto:",G.length);let b=G.trim();b.startsWith("```json")&&(b=b.replace(/^```json\s*/,"").replace(/\s*```$/,"")),b.startsWith("```")&&(b=b.replace(/^```\s*/,"").replace(/\s*```$/,"")),console.log("\u2728 Texto limpio para parsear:",b),console.log("\u{1F524} Primeros 200 caracteres:",b.substring(0,200));let g;try{if(console.log("\u{1F504} Intentando parsear JSON..."),g=JSON.parse(b),console.log("\u2705 JSON parseado exitosamente:",g),!g||typeof g!="object")throw console.error("\u274C Resultado no es un objeto v\xE1lido"),new Error("Respuesta inv\xE1lida de la IA");if(!g.results||!Array.isArray(g.results))throw console.error("\u274C No hay array de resultados:",g.results),new Error("La respuesta no contiene resultados v\xE1lidos");console.log("\u{1F4CA} Cantidad de resultados encontrados:",g.results.length),g.patient_name=g.patient_name||"No especificado",g.test_date=g.test_date||"",g.laboratory=g.laboratory||"",g.summary=g.summary||"An\xE1lisis procesado correctamente",g.recommendations=g.recommendations||["Consulte con su m\xE9dico para la interpretaci\xF3n completa"],g.results=g.results.map(y=>({test_name:y.test_name||"Sin nombre",value:y.value||null,unit:y.unit||null,reference_range:y.reference_range||null,status:["normal","high","low","critical"].includes(y.status)?y.status:"normal",simplified_explanation:y.simplified_explanation||y.explanation||"An\xE1lisis m\xE9dico de laboratorio",clinical_interpretation:y.clinical_interpretation||"Los valores de este an\xE1lisis pueden variar seg\xFAn m\xFAltiples factores. Consulte con su m\xE9dico.",warning:y.warning||null,explanation:y.explanation||y.simplified_explanation||"An\xE1lisis m\xE9dico"})),this.analysisResult.set(g)}catch(y){console.error("\u274C\u274C\u274C ERROR AL PARSEAR JSON \u274C\u274C\u274C"),console.error("Error:",y),console.error("Mensaje:",y.message),console.error("Stack:",y.stack),console.error("\u{1F4C4} Texto que caus\xF3 el error:",b),console.error("\u{1F4CF} Longitud del texto:",b?.length||0),console.error("\u{1F524} Primeros 500 caracteres:",b?.substring(0,500)||"vac\xEDo");let S={};try{let I=b.toLowerCase();(I.includes("paciente")||I.includes("laboratorio")||I.includes("an\xE1lisis"))&&(S={patient_name:this.extractPatternFromText(b,/paciente[:\s]+([^\n]+)/i)||"No especificado",laboratory:this.extractPatternFromText(b,/laboratorio[:\s]+([^\n]+)/i)||"No especificado",test_date:this.extractPatternFromText(b,/fecha[:\s]+([^\n]+)/i)||"",summary:"El an\xE1lisis fue procesado pero el formato del laboratorio es diferente al est\xE1ndar. La informaci\xF3n extra\xEDda puede ser limitada.",results:[],recommendations:["Este PDF tiene un formato no est\xE1ndar","Recomendamos contactar al laboratorio para obtener el an\xE1lisis en formato digital est\xE1ndar","Consulte con su m\xE9dico para la interpretaci\xF3n completa","Si necesita procesamiento urgente, puede intentar subir el an\xE1lisis nuevamente"]})}catch(I){console.error("Error en extracci\xF3n de texto:",I)}let se={patient_name:S.patient_name||"No especificado",test_date:S.test_date||"",laboratory:S.laboratory||"Formato no reconocido completamente",results:S.results||[],summary:S.summary||"El formato de este laboratorio tiene una estructura diferente al est\xE1ndar. No pudimos extraer todos los valores autom\xE1ticamente.",recommendations:S.recommendations||["\u2713 El PDF es v\xE1lido pero tiene un formato especial","\u26A0\uFE0F Algunos valores pueden no haberse detectado autom\xE1ticamente","\u{1F4CB} Verifique manualmente los valores importantes en el PDF original","\u{1F468}\u200D\u2695\uFE0F Consulte con su m\xE9dico para la interpretaci\xF3n completa","\u{1F504} Si el laboratorio tiene versi\xF3n digital actualizada, intente con esa"]};this.analysisResult.set(se),this.error.set("\u26A0\uFE0F PDF procesado con limitaciones: El formato de este laboratorio requiere revisi\xF3n manual. Verifique los valores importantes directamente en el PDF.")}}catch(e){console.error("Error completo en an\xE1lisis:",e);let a="No se pudo analizar el PDF.";e.name==="AbortError"?a="El an\xE1lisis tard\xF3 demasiado tiempo. El PDF podr\xEDa ser muy grande o complejo.":e.message?.includes("Failed to fetch")||e.message?.includes("NetworkError")?a="Error de conexi\xF3n. Verifique su conexi\xF3n a internet y que el servidor est\xE9 funcionando.":e.message?.includes("JSON")?a="Error al procesar la respuesta del an\xE1lisis. Intente nuevamente.":e.message?.includes("HTTP 400")?a="El PDF no pudo ser procesado. Verifique que sea un an\xE1lisis m\xE9dico v\xE1lido y no est\xE9 da\xF1ado.":e.message?.includes("HTTP 429")?a="Demasiadas solicitudes. Espere unos minutos antes de intentar nuevamente.":e.message?.includes("HTTP 500")?a="Error temporal del servidor. Intente nuevamente en unos minutos.":e.message?.includes("HTTP 503")&&(a="El servicio est\xE1 temporalmente no disponible. Intente m\xE1s tarde."),this.error.set(a)}finally{this.isProcessing.set(!1)}}getStatusColor(i){switch(i){case"normal":return"text-green-600 bg-green-50 border-green-200";case"high":return"text-orange-600 bg-orange-50 border-orange-200";case"low":return"text-blue-600 bg-blue-50 border-blue-200";case"critical":return"text-red-600 bg-red-50 border-red-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}}getStatusIcon(i){switch(i){case"normal":return"\u2713";case"high":return"\u2191";case"low":return"\u2193";case"critical":return"\u26A0";default:return"?"}}getStatusText(i){switch(i){case"normal":return"Normal";case"high":return"Alto";case"low":return"Bajo";case"critical":return"Cr\xEDtico";default:return"Sin datos"}}getHighValueConditions(i){let e=i.toLowerCase();return e.includes("glucosa")||e.includes("glucose")?"\u2022 Diabetes mellitus \u2022 Resistencia a la insulina \u2022 S\xEDndrome metab\xF3lico \u2022 Estr\xE9s \u2022 Medicamentos corticosteroides \u2022 Pancreatitis":e.includes("colesterol total")||e.includes("cholesterol")?"\u2022 Hipercolesterolemia \u2022 Riesgo cardiovascular \u2022 Enfermedad hep\xE1tica \u2022 Hipotiroidismo \u2022 Diabetes \u2022 Dieta rica en grasas saturadas":e.includes("triglic\xE9ridos")||e.includes("triglycerides")?"\u2022 Hipertrigliceridemia \u2022 S\xEDndrome metab\xF3lico \u2022 Resistencia a la insulina \u2022 Obesidad \u2022 Consumo excesivo de alcohol \u2022 Pancreatitis":e.includes("urea")||e.includes("bun")?"\u2022 Insuficiencia renal \u2022 Deshidrataci\xF3n \u2022 Dieta rica en prote\xEDnas \u2022 Insuficiencia card\xEDaca \u2022 Sangrado gastrointestinal \u2022 Medicamentos nefrot\xF3xicos":e.includes("creatinina")||e.includes("creatinine")?"\u2022 Insuficiencia renal \u2022 Enfermedad renal cr\xF3nica \u2022 Deshidrataci\xF3n severa \u2022 Obstrucci\xF3n urinaria \u2022 Medicamentos nefrot\xF3xicos":e.includes("\xE1cido \xFArico")||e.includes("uric acid")?"\u2022 Gota \u2022 Hiperuricemia \u2022 S\xEDndrome metab\xF3lico \u2022 Insuficiencia renal \u2022 Dieta rica en purinas \u2022 Alcoholismo":e.includes("transaminasas")||e.includes("alt")||e.includes("ast")||e.includes("got")||e.includes("gpt")?"\u2022 Hepatitis \u2022 Da\xF1o hep\xE1tico \u2022 Esteatosis hep\xE1tica \u2022 Cirrosis \u2022 Medicamentos hepatot\xF3xicos \u2022 Alcoholismo \u2022 Infecciones virales":e.includes("bilirrubina")||e.includes("bilirubin")?"\u2022 Ictericia \u2022 Hepatitis \u2022 Obstrucci\xF3n biliar \u2022 Anemia hemol\xEDtica \u2022 S\xEDndrome de Gilbert \u2022 Cirrosis":e.includes("hemoglobina")||e.includes("hgb")||e.includes("hb")?"\u2022 Policitemia \u2022 Deshidrataci\xF3n \u2022 Enfermedad pulmonar cr\xF3nica \u2022 Tabaquismo \u2022 Altitud elevada \u2022 Tumores productores de eritropoyetina":e.includes("leucocitos")||e.includes("gl\xF3bulos blancos")||e.includes("wbc")?"\u2022 Infecci\xF3n bacteriana \u2022 Leucemia \u2022 Estr\xE9s f\xEDsico/emocional \u2022 Medicamentos \u2022 Inflamaci\xF3n \u2022 Necrosis tisular":e.includes("neutr\xF3filos")||e.includes("neutrophils")?"\u2022 Infecci\xF3n bacteriana aguda \u2022 Inflamaci\xF3n \u2022 Necrosis \u2022 Quemaduras \u2022 Medicamentos \u2022 Estr\xE9s \u2022 Tabaquismo":"\u2022 Consulte con su m\xE9dico para una evaluaci\xF3n personalizada de las posibles causas de este valor elevado"}getLowValueConditions(i){let e=i.toLowerCase();return e.includes("glucosa")||e.includes("glucose")?"\u2022 Hipoglucemia \u2022 Ayuno prolongado \u2022 Medicamentos hipoglucemiantes \u2022 Insulinoma \u2022 Enfermedad hep\xE1tica \u2022 Insuficiencia suprarrenal":e.includes("hemoglobina")||e.includes("hgb")||e.includes("hb")?"\u2022 Anemia ferrop\xE9nica \u2022 Anemia cr\xF3nica \u2022 P\xE9rdida de sangre \u2022 Deficiencia nutricional \u2022 Enfermedad renal cr\xF3nica \u2022 Talasemia":e.includes("hematocrito")||e.includes("hct")?"\u2022 Anemia \u2022 P\xE9rdida de sangre \u2022 Sobrehidrataci\xF3n \u2022 Deficiencias nutricionales \u2022 Enfermedad cr\xF3nica \u2022 Hem\xF3lisis":e.includes("hierro")||e.includes("iron")?"\u2022 Anemia ferrop\xE9nica \u2022 Deficiencia diet\xE9tica \u2022 P\xE9rdida de sangre cr\xF3nica \u2022 Malabsorci\xF3n \u2022 Embarazo \u2022 Donaci\xF3n frecuente de sangre":e.includes("leucocitos")||e.includes("gl\xF3bulos blancos")||e.includes("wbc")?"\u2022 Infecci\xF3n viral \u2022 Medicamentos \u2022 Quimioterapia \u2022 Enfermedades autoinmunes \u2022 D\xE9ficit inmunitario \u2022 Radiaci\xF3n":e.includes("plaquetas")||e.includes("platelets")?"\u2022 Trombocitopenia \u2022 Medicamentos \u2022 Enfermedades autoinmunes \u2022 Infecciones virales \u2022 Cirrosis \u2022 Quimioterapia":e.includes("alb\xFAmina")||e.includes("albumin")?"\u2022 Malnutrici\xF3n \u2022 Enfermedad hep\xE1tica \u2022 Enfermedad renal \u2022 Inflamaci\xF3n cr\xF3nica \u2022 Malabsorci\xF3n \u2022 P\xE9rdida proteica":e.includes("prote\xEDnas totales")||e.includes("total protein")?"\u2022 Malnutrici\xF3n \u2022 Enfermedad hep\xE1tica \u2022 Enfermedad renal \u2022 Malabsorci\xF3n \u2022 Infecciones cr\xF3nicas \u2022 P\xE9rdida proteica":e.includes("vitamina")||e.includes("vitamin")?"\u2022 Deficiencia nutricional \u2022 Malabsorci\xF3n \u2022 Dieta inadecuada \u2022 Alcoholismo \u2022 Medicamentos \u2022 Enfermedades digestivas":"\u2022 Consulte con su m\xE9dico para evaluar las posibles causas de este valor bajo y determinar si requiere suplementaci\xF3n"}getCriticalValueConditions(i){let e=i.toLowerCase();return e.includes("glucosa")||e.includes("glucose")?"\u2022 Crisis diab\xE9tica (hiperglucemia severa) \u2022 Cetoacidosis diab\xE9tica \u2022 Estado hiperosmolar \u2022 Hipoglucemia severa \u2022 Shock \u2022 Coma":e.includes("creatinina")||e.includes("creatinine")?"\u2022 Insuficiencia renal aguda \u2022 Falla renal \u2022 Obstrucci\xF3n urinaria severa \u2022 Shock \u2022 Deshidrataci\xF3n cr\xEDtica \u2022 Rabdomi\xF3lisis":e.includes("potasio")||e.includes("potassium")?"\u2022 Arritmias card\xEDacas peligrosas \u2022 Hiperpotasemia/hipopotasemia severa \u2022 Paro card\xEDaco \u2022 Par\xE1lisis muscular \u2022 Insuficiencia renal":e.includes("hemoglobina")||e.includes("hgb")||e.includes("hb")?"\u2022 Anemia severa \u2022 Hemorragia aguda \u2022 Shock hipovol\xE9mico \u2022 Insuficiencia card\xEDaca \u2022 Necesidad de transfusi\xF3n urgente":e.includes("leucocitos")||e.includes("gl\xF3bulos blancos")||e.includes("wbc")?"\u2022 Sepsis \u2022 Leucemia aguda \u2022 Neutropenia severa \u2022 Infecci\xF3n sist\xE9mica grave \u2022 Shock s\xE9ptico \u2022 Inmunosupresi\xF3n cr\xEDtica":e.includes("plaquetas")||e.includes("platelets")?"\u2022 Trombocitopenia severa \u2022 Riesgo de hemorragia espont\xE1nea \u2022 P\xFArpura trombocitop\xE9nica \u2022 CID \u2022 Necesidad de transfusi\xF3n":"\u2022 ATENCI\xD3N M\xC9DICA URGENTE: Este valor cr\xEDtico requiere evaluaci\xF3n inmediata para prevenir complicaciones graves"}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=z({type:r,selectors:[["app-analysis"]],decls:26,vars:4,consts:[[1,"min-h-screen","bg-gradient-to-br","from-primary-50","to-white","dark:from-gray-900","dark:to-gray-800"],[1,"container","mx-auto","px-4","py-8"],["data-aos","fade-down",1,"flex","justify-between","items-center","mb-6"],["routerLink","/",1,"inline-flex","items-center","gap-2","text-gray-600","dark:text-gray-400","hover:text-primary-600","dark:hover:text-primary-400","transition-colors"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 19l-7-7m0 0l7-7m-7 7h18"],[1,"font-medium"],["data-aos","fade-up",1,"text-center","mb-12"],[1,"inline-flex","items-center","justify-center","w-16","h-16","bg-gradient-to-br","from-primary-500","to-blue-600","rounded-2xl","mb-6","shadow-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-white"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"text-4xl","md:text-5xl","font-bold","text-gray-900","dark:text-white","mb-4"],[1,"text-xl","text-gray-600","dark:text-gray-300","max-w-2xl","mx-auto"],[1,"max-w-4xl","mx-auto"],["data-aos","fade-up","data-aos-delay","100",1,"bg-white","dark:bg-gray-800","rounded-2xl","shadow-medical","p-8","mb-8"],[1,"border-2","border-dashed","rounded-xl","p-12","text-center","transition-all","duration-300",3,"class"],["data-aos","fade-in",1,"mt-6","p-5","rounded-xl","border-l-4",3,"ngClass"],["data-aos","fade-up","data-aos-delay","200","id","results-section",1,"space-y-8"],[1,"border-2","border-dashed","rounded-xl","p-12","text-center","transition-all","duration-300",3,"dragover","dragleave","drop"],[1,"flex","flex-col","items-center"],[1,"w-16","h-16","bg-primary-100","dark:bg-primary-900","rounded-full","flex","items-center","justify-center","mb-4"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-primary-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"],[1,"text-lg","font-semibold","text-gray-900","dark:text-white","mb-2"],[1,"text-gray-500","dark:text-gray-400","mb-4"],[1,"inline-flex","items-center","px-6","py-3","bg-primary-600","hover:bg-primary-700","text-white","rounded-lg","cursor-pointer","transition-colors","duration-200"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4v16m8-8H4"],["type","file","accept",".pdf",1,"hidden",3,"change"],[1,"text-sm","text-gray-400","dark:text-gray-500","mt-2"],["data-aos","fade-in",1,"bg-gray-50","dark:bg-gray-700","rounded-xl","p-6","mb-6"],[1,"flex","items-center","justify-between"],[1,"flex","items-center"],[1,"w-12","h-12","bg-red-100","dark:bg-red-900","rounded-lg","flex","items-center","justify-center","mr-4"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-red-600"],[1,"font-medium","text-gray-900","dark:text-white"],[1,"text-sm","text-gray-500","dark:text-gray-400"],["title","Eliminar archivo",1,"text-gray-400","hover:text-red-500","transition-colors","duration-200",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"text-center"],[1,"mb-4","text-sm","font-medium","transition-all","duration-300",3,"ngClass"],[1,"inline-flex","items-center","px-8","py-4","bg-primary-600","hover:bg-primary-700","disabled:bg-gray-400","text-white","rounded-xl","font-semibold","transition-all","duration-200","shadow-lg","hover:shadow-xl","disabled:cursor-not-allowed","transform","hover:scale-105","disabled:hover:scale-100",3,"click","disabled"],[1,"animate-spin","rounded-full","h-5","w-5","border-b-2","border-white","mr-3"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-3"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"],[1,"flex","items-start"],[1,"flex-shrink-0"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-yellow-600"],[1,"ml-3","flex-1"],[1,"font-semibold","mb-1",3,"ngClass"],[1,"text-sm","whitespace-pre-line",3,"ngClass"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"grid","grid-cols-2","md:grid-cols-5","gap-4","mb-6"],[1,"bg-white","dark:bg-gray-800","rounded-2xl","shadow-medical","p-6"],[1,"mb-6","p-4","bg-yellow-50","dark:bg-yellow-900/20","border-l-4","border-yellow-500","rounded-r-lg"],[1,"text-2xl","font-bold","text-gray-900","dark:text-white","mb-6","flex","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","mr-3","text-primary-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-4"],[1,"p-4","bg-gray-50","dark:bg-gray-700","rounded-lg"],[1,"font-semibold","text-gray-900","dark:text-white"],[1,"text-xl","font-bold","text-gray-900","dark:text-white","mb-4"],[1,"p-4","bg-blue-50","dark:bg-blue-900/20","rounded-lg","border-l-4","border-blue-500"],[1,"text-gray-700","dark:text-gray-300","leading-relaxed"],[1,"flex","flex-wrap","gap-4","justify-center","mb-6"],[1,"inline-flex","items-center","px-6","py-3","bg-primary-600","hover:bg-primary-700","text-white","rounded-xl","font-semibold","shadow-lg","hover:shadow-xl","transition-all","duration-200","transform","hover:scale-105",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 12h16M4 18h16"],[1,"inline-flex","items-center","px-6","py-3","transition-all","duration-200","transform","hover:scale-105","rounded-xl","font-semibold","shadow-lg","hover:shadow-xl",3,"ngClass"],[1,"space-y-2"],[1,"space-y-4"],[1,"bg-yellow-50","dark:bg-yellow-900/20","border","border-yellow-200","dark:border-yellow-800","rounded-xl","p-6"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-yellow-600","mr-3","mt-0.5","flex-shrink-0"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.082 16.5c-.77.833.192 2.5 1.732 2.5z"],[1,"font-semibold","text-yellow-800","dark:text-yellow-200","mb-2"],[1,"text-yellow-700","dark:text-yellow-300","text-sm","leading-relaxed"],[1,"inline-flex","items-center","px-6","py-3","bg-gray-500","hover:bg-gray-600","text-white","rounded-lg","transition-colors","duration-200",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],[1,"bg-gradient-to-br","from-blue-500","to-blue-600","rounded-xl","p-4","text-white","shadow-lg","transform","transition-all","hover:scale-105"],[1,"text-3xl","font-bold"],[1,"text-sm","opacity-90"],[1,"bg-gradient-to-br","from-green-500","to-green-600","rounded-xl","p-4","text-white","shadow-lg","transform","transition-all","hover:scale-105"],[1,"bg-gradient-to-br","from-orange-500","to-orange-600","rounded-xl","p-4","text-white","shadow-lg","transform","transition-all","hover:scale-105"],[1,"bg-gradient-to-br","from-yellow-500","to-yellow-600","rounded-xl","p-4","text-white","shadow-lg","transform","transition-all","hover:scale-105"],[1,"bg-gradient-to-br","from-red-500","to-red-600","rounded-xl","p-4","text-white","shadow-lg","transform","transition-all","hover:scale-105"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-yellow-600","mr-3","flex-shrink-0"],[1,"text-sm","text-yellow-700","dark:text-yellow-300","mb-2"],[1,"text-xs","text-yellow-600","dark:text-yellow-400"],[1,"text-xl","font-bold","text-gray-900","dark:text-white","mb-6"],[1,"grid","grid-cols-2","md:grid-cols-5","gap-4"],[1,"text-center","p-4","bg-gray-50","dark:bg-gray-700","rounded-lg"],[1,"text-2xl","font-bold","text-gray-900","dark:text-white"],[1,"text-center","p-4","bg-green-50","dark:bg-green-900/20","rounded-lg"],[1,"text-2xl","font-bold","text-green-600"],[1,"text-sm","text-green-600"],[1,"text-center","p-4","bg-orange-50","dark:bg-orange-900/20","rounded-lg"],[1,"text-2xl","font-bold","text-orange-600"],[1,"text-sm","text-orange-600"],[1,"text-center","p-4","bg-blue-50","dark:bg-blue-900/20","rounded-lg"],[1,"text-2xl","font-bold","text-blue-600"],[1,"text-sm","text-blue-600"],[1,"text-center","p-4","bg-red-50","dark:bg-red-900/20","rounded-lg"],[1,"text-2xl","font-bold","text-red-600"],[1,"text-sm","text-red-600"],[1,"inline-flex","items-center","px-6","py-3","transition-all","duration-200","transform","hover:scale-105","rounded-xl","font-semibold","shadow-lg","hover:shadow-xl",3,"click","ngClass"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"],[1,"ml-2","px-2","py-1","bg-white/20","rounded-full","text-xs"],[1,"bg-white","dark:bg-gray-800","rounded-lg","shadow-sm","border","border-gray-200","dark:border-gray-700","overflow-hidden","hover:shadow-md","transition-shadow","duration-200"],[1,"w-full","px-4","py-3","flex","items-center","justify-between","hover:bg-gray-50","dark:hover:bg-gray-700/50","transition-colors",3,"click"],[1,"flex","items-center","gap-4","flex-1","min-w-0"],[1,"font-semibold","text-gray-900","dark:text-white","text-left","truncate"],[1,"flex","items-center","gap-2","ml-auto"],[1,"text-lg","font-bold","text-gray-900","dark:text-white"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"flex-shrink-0","w-5","h-5","ml-3","text-gray-400","transition-transform","duration-200"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],[1,"px-4","pb-4","pt-2","border-t","border-gray-100","dark:border-gray-700","bg-gray-50","dark:bg-gray-900/50"],[1,"text-sm","text-gray-600","dark:text-gray-400","mb-3"],[1,"p-3","bg-white","dark:bg-gray-800","rounded-lg","mb-2"],[1,"font-medium","text-gray-900","dark:text-white","text-sm","mb-1"],[1,"text-gray-700","dark:text-gray-300","text-sm"],[1,"p-3","bg-amber-50","dark:bg-amber-900/20","rounded-lg","border","border-amber-200","dark:border-amber-800/50"],[1,"font-medium","text-gray-900","dark:text-white","text-sm","mb-1","flex","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-1","text-amber-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"mt-2","p-3","bg-red-50","dark:bg-red-900/20","rounded-lg","border","border-red-200","dark:border-red-800/50"],[1,"text-red-700","dark:text-red-300","text-sm","font-medium"],[1,"bg-white","dark:bg-gray-800","rounded-xl","shadow-md","p-6","hover:shadow-lg","transition-shadow","duration-200"],[1,"flex","items-start","justify-between","mb-4"],[1,"flex-1"],[1,"flex","items-center","space-x-4","mb-3"],[1,"text-gray-500","dark:text-gray-400"],[1,"text-sm","text-gray-500","dark:text-gray-400","mb-2"],[1,"mr-1"],[1,"p-4","bg-gray-50","dark:bg-gray-700","rounded-lg","mb-3"],[1,"font-medium","text-gray-900","dark:text-white","mb-2"],[1,"text-gray-700","dark:text-gray-300"],[1,"p-4","bg-red-50","dark:bg-red-900/20","rounded-lg","border","border-red-200","dark:border-red-800","mb-3"],[1,"p-4","bg-amber-50","dark:bg-amber-900/20","rounded-lg","border","border-amber-200","dark:border-amber-800"],[1,"font-medium","text-red-800","dark:text-red-200","mb-2","flex","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-2","text-red-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-red-700","dark:text-red-300","text-sm","leading-relaxed","font-medium"],[1,"font-medium","text-gray-900","dark:text-white","mb-2","flex","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-2","text-amber-600"],[1,"text-gray-700","dark:text-gray-300","text-sm","leading-relaxed"],[1,"text-xl","font-bold","text-gray-900","dark:text-white","mb-4","flex","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-2","text-yellow-500"],[1,"space-y-3"],[1,"w-2","h-2","bg-yellow-500","rounded-full","mt-2","mr-3","flex-shrink-0"]],template:function(e,a){e&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),_(),t(4,"svg",4),h(5,"path",5),n(),C(),t(6,"span",6),o(7,"Volver al inicio"),n()(),h(8,"app-theme-toggle"),n(),t(9,"div",7)(10,"div",8),_(),t(11,"svg",9),h(12,"path",10),n()(),C(),t(13,"h1",11),o(14," An\xE1lisis M\xE9dico Inteligente "),n(),t(15,"p",12),o(16," Sube tu PDF de an\xE1lisis m\xE9dico y obt\xE9n interpretaciones claras en segundos. Potenciado por "),t(17,"strong"),o(18,"Google Gemini AI"),n(),o(19,". "),n()(),t(20,"div",13)(21,"div",14),p(22,ue,16,2,"div",15),p(23,pe,20,6),p(24,_e,10,6,"div",16),n(),p(25,Le,62,13,"div",17),n()()()),e&2&&(s(22),f(a.file()?-1:22),s(),f(a.file()?23:-1),s(),f(a.error()?24:-1),s(),f(a.analysisResult()?25:-1))},dependencies:[Z,Q,ie,ee,X],styles:["[_nghost-%COMP%]{display:block;min-height:100vh}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slideInRight{0%{opacity:0;transform:translate(20px)}to{opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_pulse-ring{0%{transform:scale(.33)}40%,50%{opacity:1}to{opacity:0;transform:scale(1.33)}}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.7}}.result-card[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .5s ease-out}.result-card[_ngcontent-%COMP%]:nth-child(2n){animation-delay:.1s}.result-card[_ngcontent-%COMP%]:nth-child(odd){animation-delay:.2s}.status-critical[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s ease-in-out infinite}.processing-overlay[_ngcontent-%COMP%]{background:#fffffff2;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}@media (prefers-color-scheme: dark){.processing-overlay[_ngcontent-%COMP%]{background:#111827f2}}@media print{.no-print[_ngcontent-%COMP%]{display:none!important}[_nghost-%COMP%]{background:#fff!important;color:#000!important}}.transition-all[_ngcontent-%COMP%]{transition:all .3s ease}.hover-lift[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f5f9;border-radius:3px}.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#14b8a6;border-radius:3px}.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#0d9488}[class*=dark][_ngcontent-%COMP%]   .custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#374151}@media (max-width: 640px){.grid-responsive[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (min-width: 768px){.grid-responsive[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (min-width: 1024px){.grid-responsive[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(300px,1fr))}}"]})};export{oe as Analysis};
